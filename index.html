<html>

<head>
    <title>notColumnate</title>
    <style type="text/css">
        body {
            font-family: sans-serif;
            font-size: large;
            margin: 30px;
        }

        .ready {
            border: 1px solid blue;
            padding: 6px;
            border-radius: 6px;
            background: #eef;
        }
    </style>
    <script type="text/javascript" src="uglifyjs.js"></script>
    <script type="text/javascript" src="columnate.js"></script>
    <script defer>

        function CreateLink() {

            // cribbed from bookmarkletify
            var toplevel_ast = UglifyJS.parse(Columnate.toString() + "Columnate();");
            toplevel_ast.figure_out_scope();
            var compressor = UglifyJS.Compressor();
            var compressed_ast = toplevel_ast.transform(compressor);
            compressed_ast.figure_out_scope();

            var url = "javascript: (function () {" + compressed_ast.print_to_string() + "}())";
            document.getElementById("bookmarkletLink").href = url;
            document.getElementById("bookmarkletLink").className = "ready";
        };

        function ClickHelp() {
            alert("Drag this link to your bookmark bar.");
            return false;
        };

        document.querySelector("body").onload = CreateLink;
        document.getElementById("bookmarkletLink").onclick = ClickHelp;
    </script>

</head>

<body>

    <h1>notColumnate</h1>

    <p>Drag this link to your bookmarks bar to install:</p>

    <p><strong><a href="#" id="bookmarkletLink" title="Drag this link to your bookmark bar.">notColumnate</a></strong>
    </p>

    <p>Now find a web page with a long article. Click the <strong>notColumnate</strong> bookmarklet to reformat the page
        free of distractions.</p>

    <p>Visit the original <a href="https://github.com/anoved/Columnate">Columnate project page</a>. Visit this fork's <a
            href="https://github.com/nityy/notColumnate/">page</a>.</p>

</body>

</html>